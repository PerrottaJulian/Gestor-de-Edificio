@*
    FINANZAS
*@

@model RedBelgrano.DataViewModel.TransaccionesVM

<style>
    caption {
        caption-side: top;
        text-align: center;
        font-weight: bold;
        font-size: 1.2em;
        padding: 0.5em;
        color: black;
        border-right: solid #dee2e6 1px;
        border-left: solid #dee2e6 1px;
        border-top: solid #dee2e6 1px;
    }
</style>


<h1> FINANZAS</h1>

<hr />

<h6> Reservas: @ViewBag.Reserva</h6>

<form asp-action="AñadirTransaccion" method="post">
    <div>
        <label asp-for="monto" class="form-label"></label>
        <div class="input-group">
            <span class="input-group-text">$</span>
            <input prefix="$" asp-for="monto" class="form-control" type="number" step="0.01" min="0" />
        </div>
        
        <span asp-validation-for="monto" class="text-danger"></span>

    </div>

    <div>
        <label asp-for="tipoId"></label>
        <select asp-for="tipoId" asp-items="ViewBag.Tipos" class="form-select"> </select>
        <span asp-validation-for="tipoId" class="text-danger"></span>

    </div>

    <div>
        <label asp-for="detalle"></label>
        <textarea rows="5" cols="40" asp-for="detalle" class="form-control"></textarea>
        <span asp-validation-for="detalle" class="text-danger"></span>

    </div>

    <button type="submit" class="btn btn-primary">Añadir</button>
</form>


<hr />
<hr />

<div class="">
    <table class="table table-bordered table-striped">

        <caption> Transacciones </caption>
        <thead>

            <tr>
                <th>ID</th>
                <th>Tipo</th>
                <th>Monto</th>
                <th>Ingresada Por</th>     
                <th>Detalle</th>
                <th>Fecha</th>

            </tr>
        </thead>

        <tbody>

            @foreach (Transaccion transaccion in Model.transacciones)
            {
                <tr style="cursor:pointer;">

                    <td>@transaccion.transaccionId</td>
                    <td>@transaccion.tipoTransaccion.nombre</td>
                    <td>$@transaccion.monto</td>
                    <td>@transaccion.administrador.nombre</td>
                    <td style="max-width: 200px; white-space: nowrap; text-overflow:ellipsis;overflow: hidden;">@transaccion.detalle</td>
                    <td>@transaccion.fecha</td>
                
                </tr>
            }

        </tbody>

    </table>
</div>


@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}

